// dribbles
jQuery.extend(jQuery.easing,{easeOutBackCubic:function(a,e,n,p,u,d){a=(e/=u)*e;return n+p*(-1.5*a*e*a+2*a*a+4*a*e+-9*a+5.5*e)}});
function ws_dribbles(a,e,n){function p(q,b,a,l){q.clearRect(0,0,m,g);for(var c=0,f=a.length;c<f;c++){var e=Math.max(0,Math.min(1,b*(2-a[c][3])-a[c][2]*(1-b)));l&&d.easing[l]&&(e=d.easing[l](1,e,0,1,1,1));var h=m;1.8>=m/g&&.7<m/g?h*=2:.7>=m/g&&(h=2*g);q.beginPath();q.arc((a[c][0]+(k[c][1]-a[c][0])*e)*m,(a[c][1]+(k[c][2]-a[c][1])*e)*g,k[c][3]*e*h,0,2*Math.PI,!1);q.fillStyle=k[c][0];q.fill()}}function u(a,b){b=b||{};var e=b.exclude||[],l,c=document.createElement("canvas"),f=c.getContext("2d");c.width=
a.naturalWidth;c.height=a.naturalHeight;f.drawImage(a,0,0,a.naturalWidth,a.naturalHeight);try{l=f.getImageData(b.x?b.x:0,b.y?b.y:0,b.w?b.w:a.width,b.h?b.h:a.height).data}catch(m){return!1}for(var c=(b.w?b.w:a.width*b.h?b.h:a.height)||l.length,f={},h="",g=[],k="",n=0,d=0;d<c;){g[0]=l[d];g[1]=l[d+1];g[2]=l[d+2];h=g.join(",");f[h]=h in f?f[h]+1:1;if(-1===e.indexOf(["rgb(",h,")"].join(""))){var p=f[h];p>n&&(k=h,n=p)}d+=4}return["rgb(",k,")"].join("")}var d=jQuery,x=d(this),y=a.noCanvas||!document.createElement("canvas").getContext,
m=a.width,g=a.height,v=d("<div>").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden"}).addClass("ws_effect ws_dribbles").appendTo(n);if(!y)var z=d("<canvas>").css({position:"absolute",left:0,top:0,width:"100%",height:"100%"}).appendTo(v),w=z.get(0).getContext("2d");var k=[["#bbbbbb",.1,.3,.18],["#b3b3b3",.9,.8,.15],["#b6b6b6",.68,.4,.2],["#b9b9b9",.25,.4,.15],["#cccccc",.11,.7,.15],["#c3c3c3",.18,.1,.15],["#c6c6c6",.4,.2,.15],["#c9c9c9",.55,-.04,.18],["#d3d3d3",0,.95,
.13],["#d6d6d6",.5,.8,.22],["#d9d9d9",.9,.1,.18],["#eeeeee",.3,.9,.18],["#e3e3e3",.93,.5,.14],["#e6e6e6",.7,.9,.15]],t=[[[.1,.3,0,1],[.9,.8,.15,.85],[.68,.4,0,.9],[.25,.4,.21,.79],[.11,.7,.3,.7],[.18,.1,.45,.55],[.4,.2,0,.75],[.55,-.04,.48,.52],[0,.95,.21,.79],[.5,.8,.1,.9],[.9,.1,.25,.75],[.3,.9,.18,.82],[.93,.5,.4,.6],[.7,.9,.13,.87]],[[-.3,-.2,.06,1],[-.1,-.3,.12,1],[-.2,-.5,0,1],[-.1,-.3,.24,1],[-.3,-.4,.4,1],[-.5,-.1,.76,1],[-.2,-.1,.62,1],[-.3,-.3,.48,1],[-.4,-.1,.05,1],[-.5,-.2,.6,1],[-.3,
-.25,.75,1],[-.1,-.4,.3,1],[-.2,-.35,.95,1],[-.15,-.25,.2,1]],[[1.3,1.2,.06,1],[1.1,1.3,.12,1],[1.2,1.5,0,1],[1.1,1.3,.24,1],[1.3,1.4,.4,1],[1.5,1.1,.76,1],[1.2,1.1,.62,1],[1.3,1.3,.48,1],[1.4,1.1,.05,1],[1.5,1.2,.6,1],[1.3,1.25,.75,1],[1.1,1.4,.3,1],[1.2,1.35,.95,1],[1.15,1.25,.2,1]],[[.1,1.3,0,1],[.9,1.34,.15,.85],[.68,1.23,0,.9],[.25,1.5,.21,.79],[.11,1.2,.3,.7],[.18,1.4,.16,.84],[.4,1.17,0,.75],[.55,1.2,0,.52],[0,1.5,.21,.79],[.5,1.45,0,.9],[.9,1.34,.25,.75],[.3,1.6,.18,.82],[.93,1.2,.09,.91],
[.7,1.15,.13,.87]],[[.1,-.3,0,1],[.9,-.34,.15,.85],[.68,-.23,0,.9],[.25,-.5,.21,.79],[.11,-.2,.3,.7],[.18,-.4,.16,.84],[.4,-.17,0,.75],[.55,-.2,0,.52],[0,-.5,.21,.79],[.5,-.45,0,.9],[.9,-.34,.25,.75],[.3,-.6,.18,.82],[.93,-.2,.09,.91],[.7,-.15,.13,.87]],[[-.2,-.1,0,1],[1.3,1.1,.15,.85],[.48,1.4,0,.9],[1.2,1.6,.21,.79],[1.11,-.15,.3,.7],[.28,1.3,.16,.84],[-.1,-.4,0,.75],[.15,1.3,0,.52],[-.5,.85,.21,.79],[-.2,.7,0,.9],[1.4,.2,.25,.75],[1.1,1.5,.18,.82],[-.43,-.2,.09,.91],[.7,1.5,.13,.87]]];this.go=
function(d,b){if(y)n.find(".ws_list").css("transform","translate3d(0,0,0)").stop(!0).animate({left:d?-d+"00%":/Safari/.test(navigator.userAgent)?"0%":0},a.duration,"easeInOutExpo",function(){x.trigger("effectEnd")});else{m=n.width();g=n.height();var r=Math.floor(Math.random()*t.length),l=t[r],c=t[Math.floor(Math.random()*t.length)];z.attr({width:m,height:g});for(var r=e.get(0==r?b:d),f=0,v=k.length;f<v;f++){var h=Math.abs(k[f][1]),A=Math.abs(k[f][2]);k[f][0]=u(r,{x:h*m,y:A*g,w:2,h:2})||k[f][0]}wowAnimate(function(a){p(w,
a,l,"easeOutBackCubic")},0,1,a.duration/2,function(){n.find(".ws_list").css({left:d?-d+"00%":/Safari/.test(navigator.userAgent)?"0%":0});wowAnimate(function(a){p(w,1-a,c,"easeOutBackCubic")},0,1,a.duration/2,function(){w.clearRect(0,0,m,g);x.trigger("effectEnd")})})}}};
// turn
// options.direction = 'left','right','down','up'
jQuery.extend(jQuery.easing,{easeInOutQuart:function(e,a,c,b,k){return 1>(a/=k/2)?b/2*a*a*a*a+c:-b/2*((a-=2)*a*a*a-2)+c}});
function ws_turn(e,a,c){var b=jQuery,k=b(this);b("li",c);var p=b(".ws_list",c),l=b("<div>").addClass("ws_effect ws_turn").css({position:"absolute",top:0,left:0,width:"100%",height:"100%",overflow:"hidden",perspective:500}).appendTo(c);this.go=function(m,q){var d=c.height(),f=c.width(),d={left:["0% 50%",{rotateY:90,translate:[0,0,.1]},{left:-f}],right:["100% 50%",{rotateY:-90,translate:[0,0,.1]},{left:f}],up:["50% 0%",{rotateX:-90,translate:[0,0,.1]},{top:-d}],down:["50% 100%",{rotateX:90,translate:[0,
0,.1]},{top:d}]}[e.direction||["left","right","down","up"][Math.floor(4*Math.random())]],g=b("<div>").css({position:"absolute",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",transformOrigin:d[0],transformStyle:"preserve-3d",outline:"1px solid transparent",zIndex:5}).append(b(a.get(m)).clone()),h=b("<div>").css({position:"absolute",left:0,top:0,width:"100%",height:"100%",overflow:"hidden",background:"#000",zIndex:4}).append(b(a.get(q)).clone());l.css({perspectiveOrigin:d[0]});3>e.responsive&&
(g.find("img").css("width","100%"),h.find("img").css("width","100%"));h.appendTo(l);g.appendTo(l);p.stop(!0,!0).hide().css({left:-m+"00%"});var f=d[2],n={top:0,left:0};e.support.transform&&(f=d[1],n={rotateX:0,rotateY:0,translate:[0,0,0]});wowAnimate(g,f,n,e.duration,"easeInOutQuart",function(){k.trigger("effectEnd");g.remove();h.remove()});wowAnimate(h.find("img"),{opacity:1},{opacity:.2},e.duration,"easeInOutQuart")}};
